{"componentChunkName":"component---src-templates-blog-template-js","path":"/ubuntu-nodejs-setting/","result":{"data":{"cur":{"id":"5804216f-7559-5d82-9f69-3fb506044154","html":"<p>디스코드 봇을 만들기 위해 오라클 클라우드 인스트럭쳐(OCI)에서 인스턴스 생성 후 세팅하는 과정입니다.<br>\nimage는 <code class=\"language-text\">ubuntu 20.04</code>를, SSH client는 PuTTY를 사용했습니다.<br>\nnode 프로젝트를 실행합니다.</p>\n<h2 id=\"1-ssh-접속\" style=\"position:relative;\"><a href=\"#1-ssh-%EC%A0%91%EC%86%8D\" aria-label=\"1 ssh 접속 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. SSH 접속</h2>\n<p>OCI에서 얻어온 공용 IP 주소와 private key를 이용해서 접속합니다.</p>\n<h2 id=\"2-root-비밀번호-설정\" style=\"position:relative;\"><a href=\"#2-root-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EC%84%A4%EC%A0%95\" aria-label=\"2 root 비밀번호 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. root 비밀번호 설정</h2>\n<p>비밀번호를 잊어버리지 않도록 적어둡시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> root</code></pre></div>\n<h3 id=\"계정-변경-방법\" style=\"position:relative;\"><a href=\"#%EA%B3%84%EC%A0%95-%EB%B3%80%EA%B2%BD-%EB%B0%A9%EB%B2%95\" aria-label=\"계정 변경 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>계정 변경 방법</h3>\n<ul>\n<li>root 계정으로 변경</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> -</code></pre></div>\n<ul>\n<li>ubuntu 라는 계정으로 변경</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> - ubuntu</code></pre></div>\n<h2 id=\"3-기본-업데이트\" style=\"position:relative;\"><a href=\"#3-%EA%B8%B0%EB%B3%B8-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\" aria-label=\"3 기본 업데이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 기본 업데이트</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> upgrade</code></pre></div>\n<h2 id=\"4-nodejs-설치\" style=\"position:relative;\"><a href=\"#4-nodejs-%EC%84%A4%EC%B9%98\" aria-label=\"4 nodejs 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. nodejs 설치</h2>\n<p><code class=\"language-text\">discord.js</code>가 최소 v16.6 이상의 nodejs를 필요로 해서 최신 버전의 nodejs를 설치했습니다.<br>\ncurl이 설치되어있지 않는지 확인해줘야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-sL</span> https://deb.nodesource.com/setup_16.x <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token parameter variable\">-E</span> <span class=\"token function\">bash</span> -\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> nodejs</code></pre></div>\n<h2 id=\"5-pm2-설치\" style=\"position:relative;\"><a href=\"#5-pm2-%EC%84%A4%EC%B9%98\" aria-label=\"5 pm2 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. pm2 설치</h2>\n<p>세션 로그인이 끊어져도 노드 프로젝트가 돌아가도록 pm2 모듈을 설치합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">npm</span> <span class=\"token function\">install</span> pm2 <span class=\"token parameter variable\">-g</span></code></pre></div>\n<p>전역으로 사용하는 것이 편하므로 <code class=\"language-text\">-g</code>를 붙여줍니다.</p>\n<h3 id=\"pm2란\" style=\"position:relative;\"><a href=\"#pm2%EB%9E%80\" aria-label=\"pm2란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pm2란?</h3>\n<p>JavaScript 런타임 Node.js의 프로세스 관리자입니다.</p>\n<ul>\n<li><code class=\"language-text\">pm2 list</code>: 프로세스 리스트 확인</li>\n<li><code class=\"language-text\">pm2 start app.js</code>: app.js 프로세스를 실행</li>\n<li><code class=\"language-text\">pm2 stop app.js</code>: app.js 프로세스를 정지</li>\n<li><code class=\"language-text\">pm2 restart app.js</code>: app.js 프로세스를 재시작</li>\n<li><code class=\"language-text\">pm2 delete app.js</code>: app.js 프로세스를 삭제</li>\n<li><code class=\"language-text\">pm2 log</code>: 로그 확인</li>\n</ul>\n<h2 id=\"6-github-프로젝트-가져오기\" style=\"position:relative;\"><a href=\"#6-github-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"6 github 프로젝트 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. gitHub 프로젝트 가져오기</h2>\n<p>git이 이미 설치되어 있어 설치 명령어를 생략했습니다.</p>\n<p>git config 정보를 입력합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config <span class=\"token parameter variable\">--global</span> user.name SeungHe0n\n<span class=\"token function\">git</span> config <span class=\"token parameter variable\">--global</span> user.mail lsheony704@gmail.com</code></pre></div>\n<p>gitHub에서 프로젝트를 복제합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone 레포지토리주소</code></pre></div>\n<h2 id=\"7-프로젝트-실행\" style=\"position:relative;\"><a href=\"#7-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%A4%ED%96%89\" aria-label=\"7 프로젝트 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. 프로젝트 실행</h2>\n<p><code class=\"language-text\">package.json</code>에 기록된 모듈을 설치합니다.<br>\n<code class=\"language-text\">npm i</code>로도 실행 가능합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>node 프로젝트를 실행하는 명령어입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">node</span> 실행파일</code></pre></div>\n<p>저는 script를 저장해서 <code class=\"language-text\">npm start</code>로 프로젝트를 실행했습니다.</p>\n<p>pm2로 프로젝트를 실행하는 방법입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pm2 start 실행파일</code></pre></div>\n<p>이렇게 하면 putty를 꺼도 프로젝트가 꺼지지 않습니다.</p>\n<h3 id=\"winscp란\" style=\"position:relative;\"><a href=\"#winscp%EB%9E%80\" aria-label=\"winscp란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>winscp란?</h3>\n<p>마이크로소프트 윈도우용으로 개발된 자유-오픈 소스 소프트웨어이며 SFTP, SCP 및 FTP 클라이언트입니다.</p>\n<p>제가 진행한 프로젝트는 공유해선 안되지만 코드에 필요한 토큰이 있었습니다.<br>\n따라서 토큰을 제외한 코드를 gitHub에 올려 사용하고, 토큰 값이 들은 파일은 winscp(SFTP)를 이용해서 옮겼습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1-ssh-%EC%A0%91%EC%86%8D\">1. SSH 접속</a></p>\n</li>\n<li>\n<p><a href=\"#2-root-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EC%84%A4%EC%A0%95\">2. root 비밀번호 설정</a></p>\n<ul>\n<li><a href=\"#%EA%B3%84%EC%A0%95-%EB%B3%80%EA%B2%BD-%EB%B0%A9%EB%B2%95\">계정 변경 방법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EA%B8%B0%EB%B3%B8-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\">3. 기본 업데이트</a></p>\n</li>\n<li>\n<p><a href=\"#4-nodejs-%EC%84%A4%EC%B9%98\">4. nodejs 설치</a></p>\n</li>\n<li>\n<p><a href=\"#5-pm2-%EC%84%A4%EC%B9%98\">5. pm2 설치</a></p>\n<ul>\n<li><a href=\"#pm2%EB%9E%80\">pm2란?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#6-github-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\">6. gitHub 프로젝트 가져오기</a></p>\n</li>\n<li>\n<p><a href=\"#7-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%A4%ED%96%89\">7. 프로젝트 실행</a></p>\n<ul>\n<li><a href=\"#winscp%EB%9E%80\">winscp란?</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"디스코드 봇을 만들기 위해 오라클 클라우드 인스트럭쳐(OCI)에서 인스턴스 생성 후 세팅하는 과정입니다. image는 를, SSH client는 PuTTY를 사용했습니다. node 프로젝트를 실행합니다. 1. SSH 접속 OCI에서 얻어온 공용 IP 주소와 private key를 이용해서 접속합니다. 2. root 비밀번호 설정 비밀번호를 잊어버리지 않도록 적어둡시다. 계정 변경 방법 root 계정으로 변경 ubuntu 라는 계정으로 변경 3. 기본 업데이트 4. nodejs 설치 가 최소 v16.6 이상의 nodejs를 필요로 해서 최신 버전의 nodejs를 설치했습니다. curl이 설치되어있지 않는지 확인해줘야 합니다. 5. pm2 설치 세션 로그인이 끊어져도 노드 프로젝트가 돌아가도록 pm2 모듈을 설치합니다. 전역으로 사용하는 것이 편하므로 를 붙여줍니다. pm2란? JavaScript 런타임 Node.js의 프로세스 관리자입니다. : 프로세스 리스트 확인 : app.js …","frontmatter":{"date":"September 10, 2021","title":"ubuntu nodejs 프로젝트 환경 만들기","categories":"nodejs oci"},"fields":{"slug":"/ubuntu-nodejs-setting/"}},"next":{"id":"80559800-1510-5542-8698-2a817bafe70a","html":"<h2 id=\"cookie-parser란\" style=\"position:relative;\"><a href=\"#cookie-parser%EB%9E%80\" aria-label=\"cookie parser란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cookie-parser란?</h2>\n<p><code class=\"language-text\">Cookie</code> 헤더를 파싱하고, 쿠키 이름에 의해 키가 지정된 객체로 <code class=\"language-text\">req.cookies</code>를 채운다.<br>\n<code class=\"language-text\">secret</code> 문자열을 전달하여 선택적으로 서명된(signed) 쿠키 지원을 활성화할 수 있다.<br>\n<code class=\"language-text\">secret</code> 문자열은 다른 미들웨어에서 사용할 수 있도록 <code class=\"language-text\">req.secret</code>을 할당한다.</p>\n<h2 id=\"설치하기\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\" aria-label=\"설치하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> cookie-parser</code></pre></div>\n<h2 id=\"api-사용하기\" style=\"position:relative;\"><a href=\"#api-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"api 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API 사용하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> cookieParser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cookie-parser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cookieParser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"cookieparsersecret-options\" style=\"position:relative;\"><a href=\"#cookieparsersecret-options\" aria-label=\"cookieparsersecret options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cookieParser(secret, options)</h3>\n<p>secret, options 매개변수를 사용하여 새로운 쿠키파서 미들웨어 함수를 만든다.</p>\n<p><strong>secret</strong></p>\n<ul>\n<li>쿠키 서명에 사용되는 문자열(string) 혹은 배열(array)</li>\n<li>선택 사항이며, 만약 지정되지 않은 경우 서명된 쿠키를 파싱하지 않음</li>\n<li>string이 주어진 경우, <code class=\"language-text\">secret</code>으로 사용됨</li>\n<li>array가 주어진 경우, 순서대로 각 <code class=\"language-text\">secret</code>을 사용하여 쿠키 서명을 해제하려고 시도함</li>\n</ul>\n<p><strong>options</strong></p>\n<ul>\n<li>두번째 옵션으로 <code class=\"language-text\">cookie.parse</code>에게 전달되는 객체</li>\n<li><code class=\"language-text\">decode</code>: 쿠키의 값을 디코딩하는 함수</li>\n</ul>\n<p>미들웨어는 request에서 <code class=\"language-text\">Cookie</code> 헤더를 파싱하고 쿠키 데이터를 <code class=\"language-text\">req.cookies</code> 속성으로 노출한다.<br>\n만약 <code class=\"language-text\">secret</code> 값이 주어진 경우, <code class=\"language-text\">req.signedCookies</code> 속성으로 표시한다.<br>\n이러한 속성들은 쿠키 이름과 쿠키 값으로 이루어진 name value pair이다.</p>\n<p><code class=\"language-text\">secert</code> 값이 주어졌을 때, 이 모듈은 서명된 쿠키의 값의 서명을 해제(unsign)하고 유효성을 검사한다.<br>\n또한 name value pair들을 <code class=\"language-text\">req.cookies</code>에서 <code class=\"language-text\">req.signedCookies</code>로 이동한다.<br>\n서명된 쿠키는 <code class=\"language-text\">s:</code>로 시작하는 값이 있는 쿠키이다.<br>\n서명 유효성 검사에 실패한 서명된 쿠키는 변조된(tampered) 값 대신에 false 값을 가진다.</p>\n<p>또한, 이 모듈은 특수 <code class=\"language-text\">JSON cookies</code>를 지원한다.<br>\n값이 <code class=\"language-text\">j:</code>로 시작하는 쿠키가 이에 해당한다.<br>\n이러한 값들이 발견되면, <code class=\"language-text\">JSON.parse</code>의 결과로 값이 노출된다.<br>\n파싱이 실패하면, 원래 값이 유지된다.</p>\n<h3 id=\"cookieparserjsoncookiestr\" style=\"position:relative;\"><a href=\"#cookieparserjsoncookiestr\" aria-label=\"cookieparserjsoncookiestr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cookieParser.JSONCookie(str)</h3>\n<p>쿠키 값을 JSON 쿠기로 파싱한다.<br>\nJSON 쿠키인 경우 파싱된 JSON 값을, 그렇지 않으면 전달된 값을 반환한다.</p>\n<h3 id=\"cookieparserjsoncookiescookies\" style=\"position:relative;\"><a href=\"#cookieparserjsoncookiescookies\" aria-label=\"cookieparserjsoncookiescookies permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cookieParser.JSONCookies(cookies)</h3>\n<p>객체가 주어지면 키를 iterate하고 각 값에 대해 <code class=\"language-text\">JSONCookie</code>를 호출하여 원래 값을 파싱된 값으로 바꾼다.<br>\n전달된 동일한 객체를 반환한다.</p>\n<h3 id=\"cookieparsersignedcookiestr-secret\" style=\"position:relative;\"><a href=\"#cookieparsersignedcookiestr-secret\" aria-label=\"cookieparsersignedcookiestr secret permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cookieParser.signedCookie(str, secret)</h3>\n<p>쿠키 값을 서명된 쿠키로 파싱한다.<br>\n서명된 쿠키이고 서명이 유효하다면, 파싱된 서명되지 않은 값(unsigned value)를 반환한다.<br>\n값이 서명되지 않은 경우, 원래 값이 반환된다.<br>\n값이 서명되었지만 서명이 유효하지 않은 경우, false가 반환된다.</p>\n<p><code class=\"language-text\">secret</code> 인수는 array 혹은 string일 수 있다.<br>\nstring이 제공된 경우, <code class=\"language-text\">secret</code>으로 사용된다.<br>\narray로 제공된 경우, 순서대로 각 <code class=\"language-text\">secret</code>을 사용하여 쿠키를 서명해제(unsign)하려고 시도한다.</p>\n<h3 id=\"cookieparsersignedcookiescookies-secret\" style=\"position:relative;\"><a href=\"#cookieparsersignedcookiescookies-secret\" aria-label=\"cookieparsersignedcookiescookies secret permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cookieParser.signedCookies(cookies, secret)</h3>\n<p>객체가 주어지면 키를 iterate하고 값이 서명된 쿠키인지 확인한다.<br>\n서명된 쿠키이고 서명이 유효하다면, 키는 개체에서 삭제되고 반한되는 새로운 객체에 추가된다.</p>\n<p><code class=\"language-text\">secret</code> 인수는 array 혹은 string일 수 있다.<br>\nstring이 제공된 경우, <code class=\"language-text\">secret</code>으로 사용된다.<br>\narray로 제공된 경우, 순서대로 각 <code class=\"language-text\">secret</code>을 사용하여 쿠키를 서명해제(unsign)하려고 시도한다.</p>\n<h2 id=\"사용-예시\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"사용 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 예시</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> cookieParser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cookie-parser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cookieParser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Cookies that have not been signed</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Cookies: '</span><span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">.</span>cookies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Cookies that have been signed</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Signed Cookies: '</span><span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">.</span>signedCookies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">8080</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// curl command that sends an HTTP request with two cookies</span>\n<span class=\"token comment\">// curl http://127.0.0.1:8080 --cookie \"Cho=Kim;Greet=Hello\"</span></code></pre></div>\n<hr>\n<p>참고</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/cookie-parser\">npm cookie-parser</a></li>\n<li><a href=\"http://expressjs.com/en/resources/middleware/cookie-parser.html\">expressjs cookie-parser</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#cookie-parser%EB%9E%80\">cookie-parser란?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\">설치하기</a></p>\n</li>\n<li>\n<p><a href=\"#api-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">API 사용하기</a></p>\n<ul>\n<li><a href=\"#cookieparsersecret-options\">cookieParser(secret, options)</a></li>\n<li><a href=\"#cookieparserjsoncookiestr\">cookieParser.JSONCookie(str)</a></li>\n<li><a href=\"#cookieparserjsoncookiescookies\">cookieParser.JSONCookies(cookies)</a></li>\n<li><a href=\"#cookieparsersignedcookiestr-secret\">cookieParser.signedCookie(str, secret)</a></li>\n<li><a href=\"#cookieparsersignedcookiescookies-secret\">cookieParser.signedCookies(cookies, secret)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">사용 예시</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 22, 2021","title":"cookie-parser 사용하기","categories":"javascript"},"fields":{"slug":"/cookie-parser/"}},"prev":{"id":"6331e34c-e54d-5169-bf53-7f223c0d5e07","html":"<p>특정 수가 소수인지 판별해내는 함수를 JavaScript로 구현하고자 합니다.</p>\n<p>먼저 소수가 무엇인지 알아봅시다.</p>\n<h2 id=\"소수prime-number란\" style=\"position:relative;\"><a href=\"#%EC%86%8C%EC%88%98prime-number%EB%9E%80\" aria-label=\"소수prime number란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>소수(Prime Number)란?</h2>\n<ul>\n<li>1보다 큰 자연수 중 1과 자기 자신만을 약수로 가지는 수</li>\n</ul>\n<p>위를 통해 소수의 기준을 다음과 같이 정의할 수 있습니다.</p>\n<ul>\n<li>1보다 큰 자연수</li>\n<li>1과 자기 자신만이 약수</li>\n</ul>\n<h2 id=\"간단하게-소수판별함수-구현하기\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%98%EA%B2%8C-%EC%86%8C%EC%88%98%ED%8C%90%EB%B3%84%ED%95%A8%EC%88%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"간단하게 소수판별함수 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간단하게 소수판별함수 구현하기</h2>\n<p>소수 <code class=\"language-text\">N</code>은 <code class=\"language-text\">1</code>과 자기자신만을 약수로 가지므로, <code class=\"language-text\">2 ~ N-1</code>까지의 수로 나눴을 때 나머지가 <code class=\"language-text\">0</code>이 아닙니다.<br>\n이를 이용해 간단한 소수 판별 함수를 만들 수 있습니다.</p>\n<p>숫자 <code class=\"language-text\">N</code>을 <code class=\"language-text\">2</code>부터 <code class=\"language-text\">n-1</code>까지 나눴을 때 나머지가 <code class=\"language-text\">0</code>인지 체크합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">isPrimeNumber</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">input</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> input<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">%</span> i <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 함수의 시간 복잡도는 <code class=\"language-text\">O(N)</code>입니다.</p>\n<h2 id=\"더-효율적인-소수판별함수-구현하기\" style=\"position:relative;\"><a href=\"#%EB%8D%94-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EC%86%8C%EC%88%98%ED%8C%90%EB%B3%84%ED%95%A8%EC%88%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"더 효율적인 소수판별함수 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>더 효율적인 소수판별함수 구현하기</h2>\n<p>소수 판별 함수를 더 빠르게 돌릴 수 있는 방법입니다.<br>\n<code class=\"language-text\">√N</code>보다 더 큰 수는 합성수이거나 소수일 수 밖에 없습니다. 직접 해보면 이해됩니다.</p>\n<blockquote>\n<p>참고로 합성수는 1보다 큰 자연수 중 소수가 아닌 수를 의미합니다.</p>\n</blockquote>\n<p>따라서 숫자 <code class=\"language-text\">N</code>을 <code class=\"language-text\">2</code>부터 <code class=\"language-text\">√N</code>까지 나눴을 때 나머지가 <code class=\"language-text\">0</code>인지 체크합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">isPrimeNumber</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">input</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> sqrt <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> sqrt<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">%</span> i <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 함수의 시간 복잡도는 <code class=\"language-text\">O(√N)</code>으로, 간단하게 만들었을 때보다 더 좋아졌습니다.</p>\n<h2 id=\"에라토스테네스의-체\" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%9D%BC%ED%86%A0%EC%8A%A4%ED%85%8C%EB%84%A4%EC%8A%A4%EC%9D%98-%EC%B2%B4\" aria-label=\"에라토스테네스의 체 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>에라토스테네스의 체</h2>\n<p>소수 판별을 찾아보다 보면 에라토스테네스의 체도 같이 언급되곤 합니다.</p>\n<p><a href=\"https://ko.wikipedia.org/wiki/%EC%97%90%EB%9D%BC%ED%86%A0%EC%8A%A4%ED%85%8C%EB%84%A4%EC%8A%A4%EC%9D%98_%EC%B2%B4\">에라토스테네스의 체</a>는 소수를 찾는 방법 중 하나로, 특정 범위 내에서 특정 수의 배수는 전부 소수에서 제외시켜 빠르게 소수들을 찾아내는 방법입니다.<br>\n따라서 특정 범위 내에서 소수를 찾을 때 가장 빠른 방법이지만, 특정 수가 소수인지 판별하기엔 적합하지 않습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%86%8C%EC%88%98prime-number%EB%9E%80\">소수(Prime Number)란?</a></li>\n<li><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%98%EA%B2%8C-%EC%86%8C%EC%88%98%ED%8C%90%EB%B3%84%ED%95%A8%EC%88%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">간단하게 소수판별함수 구현하기</a></li>\n<li><a href=\"#%EB%8D%94-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EC%86%8C%EC%88%98%ED%8C%90%EB%B3%84%ED%95%A8%EC%88%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">더 효율적인 소수판별함수 구현하기</a></li>\n<li><a href=\"#%EC%97%90%EB%9D%BC%ED%86%A0%EC%8A%A4%ED%85%8C%EB%84%A4%EC%8A%A4%EC%9D%98-%EC%B2%B4\">에라토스테네스의 체</a></li>\n</ul>\n</div>","frontmatter":{"date":"September 13, 2021","title":"소수(Prime Number) 구하기","categories":"algorithm javascript"},"fields":{"slug":"/prime-number/"}},"site":{"siteMetadata":{"siteUrl":"https://heony704.github.io","comments":{"utterances":{"repo":"heony704/heony704.github.io"}}}}},"pageContext":{"slug":"/ubuntu-nodejs-setting/","nextSlug":"/cookie-parser/","prevSlug":"/prime-number/"}},"staticQueryHashes":["161131432","1956554647","2938748437"]}